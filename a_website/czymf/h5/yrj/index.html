<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title>创造与魔法-愚人节</title>
		<meta name="viewport" content=" initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
		<link rel="stylesheet" href="css/index.css" />
		<script type="text/javascript" src="js/jquery-1.11.2.min.js"></script>
		<script>
			(function(doc, win) {
				var docEl = doc.documentElement,
					// 手机旋转事件,大部分手机浏览器都支持 onorientationchange 如果不支持，可以使用原始的 resize
					resizeEvt = 'orientationchange' in window ? 'orientationchange' : 'resize',
					recalc = function() {
						//clientWidth: 获取对象可见内容的宽度，不包括滚动条，不包括边框
						var clientWidth = docEl.clientWidth;
						if(!clientWidth) return;
						docEl.style.fontSize = 16 * (clientWidth / 320) + 'px';
					};

				recalc();
				//判断是否支持监听事件 ，不支持则停止
				if(!doc.addEventListener) return;
				//注册翻转事件
				win.addEventListener(resizeEvt, recalc, false);
			})(document, window);
		</script>
		<style type="text/css">
			@font-face {
				font-family: "webFont";
				src: url(font/webfontbzs.TTF);
				font-style: normal;
				font-weight: normal;
			}
			
			.page2 {
				width: 100%;
				height: 35.15625rem;
				margin: 0 auto;
				overflow: hidden;
				position: relative;
				left: 0;
				top: 0;
				z-index: 11;
				/*display: none;*/
			}
			
			.page2 img {
				display: block;
				max-width: 100%;
			}
		</style>
	</head>

	<body>
		<section class="page1" style="display: none;">
			<div class="content">
				<img src="images/c.png" alt="" class="txt" />
				<div class="s_put">
					<input type="text" placeholder="输入保证内容（8字内）" class="neirong" />
				</div>
				<img src="images/tx.png" alt="" class="tx" />
				<div class="a_put">
					<div class="b_put">
						<input type="text" placeholder="输入惩罚内容（8字内）" class="chengfa" />
					</div>
					<div class="choose"><img src="images/choose.png" alt="" /></div>
				</div>
				<div class="c_put">
					<input type="text" class="c_name" placeholder="请在屏幕上输入签名" />
				</div>
				<div class="c_btn">
					<div class="btn1"><img src="images/c_n.png" alt="" /></div>
					<div class="btn2"><img src="images/end.png" alt="" /></div>
				</div>
			</div>
		</section>
		<section class="tab_con">
			<div class="c_con">
				<ul>
					<li>
						<img src="images/tab1.png" alt="" />
						<img src="images/tab1_h.png" alt="" />
						<p>吃三斤柠檬</p>
					</li>
					<li>
						<img src="images/tab2.png" alt="" />
						<img src="images/tab2_h.png" alt="" />
						<p>作业掉下水道</p>
					</li>
					<li>
						<img src="images/tab3.png" alt="" />
						<img src="images/tab3_h.png" alt="" />
						<p>情书泡水</p>
					</li>
				</ul>
				<i class="close"></i>
			</div>
		</section>
		<section class="page2">
			<img src="images/bg.jpg" alt="" />
			<div class="box">
				<span>asiojdioajsidji</span>
				<span>爱哦硕大的四季豆adsfasdfasdfID搜加大搜集</span>
				<span>aswdfasdfds</span>
			</div>
		</section>
		<section class="page3">
			<div class="l_pic">
				<img src="images/bg.jpg" alt="" />
				<p>*长按保存图片</p>
			</div>
			<div class="bottom">
				<img src="images/bo.jpg" alt="" />
				<a href="javascript:;"><img src="images/like.png" alt="" /></a>
			</div>
		</section>
		<!--遮罩层-->
		<div id=loading10 style="display:none;position:fixed;left:0;top:0;z-index:999;background:rgba(0,0,0,1);width:100%;height:100%" class="js_load">
			<div style="width: 100px;height: 56px;position: absolute;left: 50%;top: 50%;margin: -28px -50px">
				<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6ODJDNTVGNjA0NDUxMTFFN0FEQzZFNUIwQkM3NUZFMjciIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6ODJDNTVGNjE0NDUxMTFFN0FEQzZFNUIwQkM3NUZFMjciPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo4MkM1NUY1RTQ0NTExMUU3QURDNkU1QjBCQzc1RkUyNyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo4MkM1NUY1RjQ0NTExMUU3QURDNkU1QjBCQzc1RkUyNyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pp8wa4IAAATlSURBVHja3FptiFRlFL7jzmzmJxu1KbvqoraGOOsuteZHioYf4EJmP6RAKvwjuEUgBIE/lP1V/Spig36U4gf9EgujMj8Q8TMoN2stc7VNbKxGW3drxZ0ZdzrHfS4cju+9c987c0emAw9z73vvPe855z3v+XiZWD6fdyqZYlqBzs7OihC8vb397u8op8IpHiHvBsJiXB8n/BrFJFGtAPNdRngQWBrVXGGZ1hDmEGo9no8hJMR9AmMmqgWvmnK50MOENYQqAkeAA4QrIQ0xlbCKgwnhDuEzwvWoV6ABwjuYeJG4t6EqfBsT9w3lcKEb6n48IRmCTxLf+vGORAGOJmk11uLj4157pEWNpcNEqrCb+IS65006z+L7eWqTm3hGqsBfhB411iiiUtbwTVZEnUb1rAc8S6oAR5tWwnSP52cIOTXWjN8hQkqMpzAm33EpB173lDmYuxWyWIVRjsnPCQXZOieVlQYJXYQnPfh9RZgpLOw1Zxd46dywUKzoXMJeQl9QBerV6tRCoR5Yy53we0IdYTIhQzirLPuzgfdZ8KsmXAMPl8YSnhKKS0+ps1HgDySpmBpnxtNgtXNIPvsJEwm3PHxfEwu9B5FoAPNwDmiCeyUM3/A7f9rsgTQy7IDhWQJ+2SbG+gMKLzd0PwRjWg2eJuEHIEvatpS4gs2X9LDMJFi+v8h6bCJc0KQkr/QPhmARuBbKwWcvIHbL8JeB2xRLt8CrWoz9QvgmCP+4xSRHCeexGnEoli2BAlm4SAsM1mWTE+KWbSQz/jqCsv4aUJJyOm4osqS1/o24S0z4BBeef9hPgbWEHYQJPhMcJDxLuF1iwavQG9T7vJOBK/d6hdH3CgjPtILwSgSWbywgvION/nQpirlcBArkw7ynFXjdI3lpF9odgQIXCVcLvJPRZbfeA/tQGtR7rM6Abc9qQVyWfEEYrXKCtPxgoU3sukfvfTyrum0TIGyPFp8gbELV+C7hNA+6x3y2JObiAnGJcBFPV9JzBc3EjxLeJKwTFWozFBos0uLsLi/CdZgeR4l9mPBPsaUEM91IeBVWlzQBil0uUoHxQni3E2PjzHZGjiRP+ZUsfgosJ3T4nNWcdk8RTG6nl9rHNf8m/AY30ivzDJT5ElEqcD/AH233EJ5d5m0su9v0TLU8VnkAqxcDj12EI9gDmh7CXHU2K9BqOG3L4+ivAx2ba6X3sRe4RtpM+K6AxR/jBXJGDn0vIvuzixxDJcqZfo7qBtnQUwi/B12BY8rvvkX9s0kIz/QShGcap0qMagizQsX1NgjvKrNS5Rlu3j9SkYhzxCWbFbiAidrQA3xuSPXcmL+sxobE9Vb0uUxLCVtEnJe0CqHzphi7CiVmw9V+CtNS/gh40WvCkq6L7RRtYpN41iTazwPYYzGxH54nfGxw2W4geCILmHiSmFD6Ka/SNlw/YhBog7Aiu9oCJew7bki2SYxhqlEW+g0lPLecH1jw+FS5G/N6wXCME4kCy+CbkrZbnm3eRGyXNM2598Q6EgVmqfsUDqps6ZChsp1SDgVkwhlGUsuEPI34RES3nJtDim3qCxGH2PWE+Si6uouogzjKvUWYgVCZKocCDqKFXxHXh3g/WsT+Po93e4vpP2Kl/q+ECLULUDJwFv3QGTmeD907lHoFgtApIFKK/e/+rVJp9J8AAwCOzjQoqkUfeAAAAABJRU5ErkJggg==" alt="" style="width:36px;height:36px;-webkit-animation:dialogLoading 1s linear infinite;animation:dialogLoading 1s linear infinite;display: block;margin: 0 auto;margin-bottom: 2px;">
				<p style="width: 100%;height: 20px;text-align: center;font-size: 15px;color: #000;line-height: 20px;color: #fff">正在加载...</p>
			</div>
		</div>
	</body>
	<script src="https://cdn.bootcss.com/html2canvas/0.5.0-beta4/html2canvas.js"></script>
	<script type="text/javascript">
		$(function() {
			//点击签名区域签名
			$(".c_put").click(function() {
				$(".c_name").focus();
			});
			//点击清空签名
			$(".btn1").click(function() {
				$(".c_name").val("");
			});
			//弹窗切换惩罚内容
			var type_txt = "";
			$(".c_con ul li").on("click", function() {
				$(this).addClass("active").siblings().removeClass("active");
				var txt = $(this).children("p").text();
				$(".chengfa").val(txt);
				$(".tab_con").hide();
				type_txt = $(this).children("p").text();
			});
			//关闭弹窗
			$(".close").click(function() {
				$(".tab_con").hide();
			});
			//弹出弹窗
			$(".choose").click(function() {
				$(".tab_con").show();
			});
			//点击完成出现截图
			//			$(".btn2").click(function (){
			//				var phone = 
			//			});
			$('.page2').click(function() {
				var canvas2 = document.createElement("canvas");
				let _canvas = document.querySelector('.page2');
				var w = parseInt(window.getComputedStyle(_canvas).width);
				var h = parseInt(window.getComputedStyle(_canvas).height);
				canvas2.width = w * 2;
				canvas2.height = h * 2;
				canvas2.style.width = w + "px";
				canvas2.style.height = h + "px";
				var context = canvas2.getContext("2d");
				context.scale(2, 2);
				html2canvas(document.querySelector('.page2'), {
					canvas: canvas2
				}).then(function(canvas) {
					$(".l_pic img").attr("src", canvas.toDataURL("data:image/png"));
					$(".page2").hide();
					$(".page3").show();
//					$(".js_load").hide();
				});
			})
		});
	</script>

</html>