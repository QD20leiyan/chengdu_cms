<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
    <title>《极无双》周年庆大事</title>
    <script src="<{$smarty.const.STATIC_MAIN}>ifsg/h5/jws_thanks/js/setPageRem.js"></script>
    <link rel="stylesheet" href="<{$smarty.const.STATIC_MAIN}>ifsg/h5/jws_thanks/css/swiper.min.css">
    <link rel="stylesheet" href="<{$smarty.const.STATIC_MAIN}>ifsg/h5/jws_thanks/css/animate.min.css">
    <link rel="stylesheet" href="<{$smarty.const.STATIC_MAIN}>ifsg/h5/jws_thanks/css/index.css">
    <!--<link href='https://www.hanyi.studio/WebFonts/C3DB971E-443B-4D37-887D-530EE441EB6B/201711/css/D9BCC60F48666F07.css' rel='stylesheet' type='text/css'/>-->
    <script>
        var _hmt = _hmt || [];
        (function() {
            var hm = document.createElement("script");
            hm.src = "//hm.baidu.com/hm.js?ad567e4b9746e4c328221ee5aa0aa602";
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(hm, s);
        })();
    </script>

</head>
<body>
<div class="swiper-container">
    <span class="play-btn on">
        <img src="<{$smarty.const.STATIC_MAIN}>ifsg/h5/jws_thanks/img/p_music_03.png" alt="">
        <img class="Music-ani" src="<{$smarty.const.STATIC_MAIN}>ifsg/h5/jws_thanks/img/p_music_play_06.png" alt="">
    </span>
    <div class="play-bg"></div>
    <audio autoplay class="play" id="music" loop>
        <source src="<{$smarty.const.STATIC_MAIN}>ifsg/h5/jws_thanks/css/mp3.mp3">
    </audio>
    <div class="swiper-wrapper">
        <div class="swiper-slide slide1">
            <img src="<{$smarty.const.STATIC_MAIN}>ifsg/h5/jws_thanks/img/bg1.jpg" alt="" class="kv-img">
            <img src="<{$smarty.const.STATIC_MAIN}>ifsg/h5/jws_thanks/img/slogan.png" alt="" class="slogan animated bounceInDown">
            <img class="down-img down-ani" src="<{$smarty.const.STATIC_MAIN}>ifsg/h5/jws_thanks/img/down.png" alt="">
        </div>
        <div class="swiper-slide slide2">
            <p class="ani" swiper-animate-effect="bounceInLeft" swiper-animate-duration="0.8s" swiper-animate-delay="0.3s">《极无双》于2016年11月10日</p>
            <p class="ani" swiper-animate-effect="bounceInRight" swiper-animate-duration="0.8s" swiper-animate-delay="0.6s">全平台上线，至今已有<em class="days">371</em>天</p>
            <div class="cont-box">
                <div><span class="numFont days cssD9BCC60F48666F07">0</span><em>Day</em></div>
                <div><span class="numFont hours cssD9BCC60F48666F07">0</span><em>Hours</em></div>
                <div><span class="numFont minutes cssD9BCC60F48666F07">0</span><em>Minutes</em></div>
                <div><span class="numFont seconds cssD9BCC60F48666F07">0</span><em>Second</em></div>
            </div>
            <img class="img1 rotate-ani" src="<{$smarty.const.STATIC_MAIN}>ifsg/h5/jws_thanks/img/img1.png" alt="">
            <img class="down-img down-ani" src="<{$smarty.const.STATIC_MAIN}>ifsg/h5/jws_thanks/img/down.png" alt="">
        </div>
        <div class="swiper-slide slide3">
            <p class="ani"
               swiper-animate-effect="bounceInLeft" swiper-animate-duration="0.8s" swiper-animate-delay="0.3s">期间，已经登陆了中国大陆、</p>
            <p class="ani"
               swiper-animate-effect="bounceInRight" swiper-animate-duration="0.8s" swiper-animate-delay=".6s">港澳台、韩国、越南、泰国<em>7</em>个国家</p>
            <p class="ani"
               swiper-animate-effect="bounceInLeft" swiper-animate-duration="0.8s" swiper-animate-delay="0.9s">和地区，游戏内进行了<em>582</em>项优化，</p>
            <p class="ani"
               swiper-animate-effect="bounceInRight" swiper-animate-duration="0.8s" swiper-animate-delay="1.2s">增添了<em>24</em>项新玩法，</p>
            <p class="ani"
               swiper-animate-effect="bounceInLeft" swiper-animate-duration="0.8s" swiper-animate-delay="1.5s">共推出了<em>34</em>个特色不一的武将</p>
            <div class="cont-box">
                <div><em class="numFont">7</em><span>国家地区</span></div>
                <div><em class="numFont">582</em><span>游戏优化</span></div>
                <div><em class="numFont">24</em><span>新玩法</span></div>
                <div><em class="numFont">34</em><span>武将</span></div>
            </div>
            <img class="down-img down-ani" src="<{$smarty.const.STATIC_MAIN}>ifsg/h5/jws_thanks/img/down.png" alt="">
        </div>
        <div class="swiper-slide slide4">
            <p>在这一年的时间里</p>
            <p>游戏中共开放了<em>502</em>组服务器</p>
            <p>至今已有<em class="dynamicNum">0</em>个主公</p>
            <p>卷入乱世之中…</p>
            <div class="cont-box">
                <img class="ani" swiper-animate-effect="bounceInUp" swiper-animate-duration="0.8s" src="<{$smarty.const.STATIC_MAIN}>ifsg/h5/jws_thanks/img/img55.png" alt="">
            </div>
            <img class="down-img down-ani" src="<{$smarty.const.STATIC_MAIN}>ifsg/h5/jws_thanks/img/down.png" alt="">
        </div>
        <div class="swiper-slide slide5">
            <p>主公们在三国乱世中</p>
            <p>共完成了<em class="dynamicNum">0</em>次副本，</p>
            <p>进行了<em>51,026,339</em>场军团战</p>
            <p>携手击败了<em>42,786,541</em>个boss…</p>
            <div class="cont-box">
                <img class="ani" swiper-animate-effect="bounceInUp" swiper-animate-duration="0.8s" src="<{$smarty.const.STATIC_MAIN}>ifsg/h5/jws_thanks/img/img8.png" alt="">
            </div>
            <img class="down-img down-ani" src="<{$smarty.const.STATIC_MAIN}>ifsg/h5/jws_thanks/img/down.png" alt="">
        </div>
        <div class="swiper-slide slide6">
            <p>每一场战役都值得欢呼</p>
            <p>每一个版本都凝聚了我们的心血</p>
            <p>每一位主公我们都<em>认真对待！</em></p>
            <div class="cont-box">
                <img class="ani" swiper-animate-effect="bounceInUp" swiper-animate-duration="0.8s" src="<{$smarty.const.STATIC_MAIN}>ifsg/h5/jws_thanks/img/img9.png" alt="">
            </div>
            <img class="down-img down-ani" src="<{$smarty.const.STATIC_MAIN}>ifsg/h5/jws_thanks/img/down.png" alt="">
        </div>
        <div class="swiper-slide slide7">
            <p>在这一年里</p>
            <p>我们的团队<em>不忘初心</em></p>
            <p>只为把最好的《极无双》</p>
            <p>献给大家</p>
            <div class="cont-box slide7-cont ani"  swiper-animate-effect="bounceInUp" swiper-animate-duration="0.8s">
                <video controls src="http://video.yingxiong.com/hd/7fd9d046255d46aa93c5c3cc7225b1db.mp4"></video>
            </div>
            <img class="down-img down-ani" src="<{$smarty.const.STATIC_MAIN}>ifsg/h5/jws_thanks/img/down.png" alt="">
        </div>
        <div class="swiper-slide slide8">
            <p>同时</p>
            <p>《极无双》能实现今天的成绩</p>
            <p>更是离不开各个渠道的<em>大力支持</em></p>
            <div class="cont-box">
                <div class="icon-scroll">
                    <div class="icon-box">
                        <img src="<{$smarty.const.STATIC_MAIN}>ifsg/h5/jws_thanks/img/icon1.png" alt="">
                        <img src="<{$smarty.const.STATIC_MAIN}>ifsg/h5/jws_thanks/img/icon2.png" alt="">
                        <img src="<{$smarty.const.STATIC_MAIN}>ifsg/h5/jws_thanks/img/icon3.png" alt="">
                        <img src="<{$smarty.const.STATIC_MAIN}>ifsg/h5/jws_thanks/img/icon4.png" alt="">
                        <img src="<{$smarty.const.STATIC_MAIN}>ifsg/h5/jws_thanks/img/icon5.png" alt="">
                        <img src="<{$smarty.const.STATIC_MAIN}>ifsg/h5/jws_thanks/img/icon6.png" alt="">
                        <img src="<{$smarty.const.STATIC_MAIN}>ifsg/h5/jws_thanks/img/icon7.png" alt="">
                        <img src="<{$smarty.const.STATIC_MAIN}>ifsg/h5/jws_thanks/img/icon8.png" alt="">
                        <img src="<{$smarty.const.STATIC_MAIN}>ifsg/h5/jws_thanks/img/icon9.png" alt="">
                        <img src="<{$smarty.const.STATIC_MAIN}>ifsg/h5/jws_thanks/img/icon10.png" alt="">
                        <img src="<{$smarty.const.STATIC_MAIN}>ifsg/h5/jws_thanks/img/icon11.png" alt="">
                        <img src="<{$smarty.const.STATIC_MAIN}>ifsg/h5/jws_thanks/img/icon12.png" alt="">
                        <img src="<{$smarty.const.STATIC_MAIN}>ifsg/h5/jws_thanks/img/icon13.png" alt="">
                        <img src="<{$smarty.const.STATIC_MAIN}>ifsg/h5/jws_thanks/img/icon14.png" alt="">
                    </div>
                </div>
            </div>
            <img class="down-img down-ani" src="<{$smarty.const.STATIC_MAIN}>ifsg/h5/jws_thanks/img/down.png" alt="">
        </div>

        <div class="swiper-slide slide9">
            <img class="kv-img" src="<{$smarty.const.STATIC_MAIN}>ifsg/h5/jws_thanks/img/bg3.jpg" alt="">
            <p>让我们携手共进</p>
            <p>书写《极无双》辉煌新篇章！</p>
            <a class="share-btn"><img src="<{$smarty.const.STATIC_MAIN}>ifsg/h5/jws_thanks/img/btn.png" alt=""></a>
            <a href="http://jws.yingxiong.com/" class="link-btn">了解周年庆活动</a>
        </div>
    </div>
</div>
<img class="share-bg" src="<{$smarty.const.STATIC_MAIN}>ifsg/h5/jws_thanks/img/share_bg.png" alt="">
</body>
<script src="<{$smarty.const.STATIC_MAIN}>ifsg/h5/jws_thanks/js/jquery-1.11.2.min.js"></script>
<script src="<{$smarty.const.STATIC_MAIN}>ifsg/h5/jws_thanks/js/swiper.min.js"></script>
<script src="<{$smarty.const.STATIC_MAIN}>ifsg/h5/jws_thanks/js/swiper.animate1.0.2.min.js"></script>
<script src="<{$smarty.const.STATIC_MAIN}>ifsg/h5/jws_thanks/js/animatingNumber.js"></script>
<script>
    var iconScroll = $('.icon-scroll');
    var is_scroll = true;
    var scrollTop = 0;
    var scrollFu;
    var cloneImg = $('.clone-img');
    var boxH, iconH;
    var swiper = new Swiper('.swiper-container', {
        direction: 'vertical',
        lazyLoading: true,
        lazyLoadingInPrevNext: true,onInit: function(swiper){ //Swiper2.x的初始化是onFirstInit
            swiperAnimateCache(swiper); //隐藏动画元素
            swiperAnimate(swiper); //初始化完成开始动画
        },
        onSlideChangeEnd: function (swiper) {
            //alert(swiper.activeIndex) //切换结束时，告诉我现在是第几个slide
            swiperAnimate(swiper);
            var index = swiper.activeIndex;
            if (index == 3) {
                if ($('.slide4').find('.dynamicNum').text() == 0) {
                    //仅第一次加载动画
                    $('.slide4').find('.dynamicNum').animatingNumber({
                        from: 0,
                        to: 9432997,
                        duration: 1500
                    });
                    //执行完动画后继续加一
                    setTimeout(function () {
                        var num = 9432997
                        setInterval(function () {
                            num++
                            $('.slide4').find('.dynamicNum').text(num)
                        }, 800)
                    }, 1500)
                } else {
                    //第二次后继续加一
                    var num = parseInt($('.slide4').find('.dynamicNum').text())
                    setInterval(function () {
                        num++
                        $('.slide4').find('.dynamicNum').text(num)
                    }, 800)
                }
            } else {
               // $('.slide4').find('.dynamicNum').text('0')
            }
            if (index == 4) {
                if ($('.slide5').find('.dynamicNum').text() == 0) {
                    //仅第一次加载动画
                    $('.slide5').find('.dynamicNum').animatingNumber({
                        from: 0,
                        to: 2563897411,
                        duration: 1500
                    });
                    //执行完动画后继续加一
                    setTimeout(function () {
                        var num = 2563897411;
                        setInterval(function () {
                            num++
                            $('.slide5').find('.dynamicNum').text(num)
                        }, 800)
                    }, 1500)
                } else {
                    //第二次后继续加一
                    var num = parseInt($('.slide5').find('.dynamicNum').text())
                    setInterval(function () {
                        num++
                        $('.slide5').find('.dynamicNum').text(num)
                    }, 800)
                }
            } else {
                //$('.slide5').find('.dynamicNum').text('0')
            }
            if (index == 7) {
                is_scroll = true;
                boxH = iconScroll[0].clientHeight;
                scrollFu = setInterval(function () {
                    scrollTop++;
                    if (is_scroll) {
                        iconScroll.find('.icon-box').css({"transform": "translateY(-" + scrollTop + "px)"});
                        iconH = iconScroll.find('.icon-box')[0].clientHeight
                        if (iconH - (boxH + scrollTop) < 70) {
                            var pattern = /-?[1-9]\d*/;
                            for (var i = 1; i <= 14; i++) {
                                var src = "<{$smarty.const.STATIC_MAIN}>ifsg/h5/jws_thanks/img/icon"+i+".png";
                                var img = $('<img src="' + src + '" alt="" />');
                                iconScroll.find('.icon-box').append(img);
                            }
                        }
                    }
                }, 50)

            } else {
                clearInterval(scrollFu)
                scrollTop == 0;
                is_scroll = false;
            }
        }
    });

    //计时
    timeFu()
    setInterval(function () {
        timeFu();
    }, 1000)

    function timeFu() {
        var nowDate = new Date();
        var oldDate = new Date(2016, 10, 10);
        var time = nowDate - oldDate;
        var days = parseInt(time / 1000 / 60 / 60 / 24, 10);
        var hours = parseInt(time / 1000 / 60 / 60 % 24, 10);
        var minutes = parseInt(time / 1000 / 60 % 60, 10);
        var seconds = parseInt(time / 1000 % 60, 10);
        days = days >= 10 ? days : "0" + days;
        hours = hours >= 10 ? hours : "0" + hours;
        minutes = minutes >= 10 ? minutes : "0" + minutes;
        seconds = seconds >= 10 ? seconds : "0" + seconds;
        $(".days").html(days);
        $(".hours").html(hours);
        $(".minutes").html(minutes);
        $(".seconds").html(seconds);
    }

    var audio = $(".play");
    //暂停与播放
    var is_pause = 0;
    $('.play-btn').click(function () {
        if (audio[0].paused) {
            is_pause = 0;
            audio[0].play();
            $(this).addClass('on')
        } else {
            is_pause = 1;
            audio[0].pause();
            $(this).removeClass('on')
        }

    })
    //首次进来主动触发播放事件
    $('.play-bg').on('touchstart', function () {
        audio[0].play();
        $(this).hide();
    })
    $(".share-btn").click(function () {
        $(".share-bg").show();
    })
    $(".share-bg").click(function () {
        $(this).hide();
    })
    $(".slide7-cont").click(function () {
        $("video")[0].play();
    })
    setInterval(function () {
        if(!$('video')[0].paused){
            console.log(2)
            audio[0].pause();
            $('.play-btn').removeClass('on')
        } else{
            console.log(3)
            if(is_pause == 0){
                audio[0].play();
                $('.play-btn').addClass('on')
            }

        }
    },500)
</script>
<script src="//res.wx.qq.com/open/js/jweixin-1.2.0.js" type="text/javascript" charset="utf-8"></script>
<script>
    document.write('<script src="http://game.yingxiong.com/common/cawx/cawxjs.php?url=' + encodeURIComponent(location.href) + '"><\/script>');
</script>
<script>


    $(function() {
        function autoPlayAudio() {
            document.getElementById('music').play();
            document.addEventListener("WeixinJSBridgeReady", function () {
                document.getElementById('music').play();
            }, false);
        }
        autoPlayAudio();
        console.log(wx_conf)
        wx.config({
//            debug: true,
            appId: wx_conf.appId,
            timestamp: wx_conf.timestamp,
            nonceStr: wx_conf.nonceStr,
            signature: wx_conf.signature,
            jsApiList: ['onMenuShareTimeline', 'onMenuShareAppMessage', 'onMenuShareQQ', 'onMenuShareQZone']
        });
        wx.ready(function() {
            var share = {
                title: '【极无双】周年庆',
                desc: '看完才明白一个好的游戏团队有多拼，一个热爱游戏的玩家有多猛！',
                imgurl: '<{$smarty.const.STATIC_MAIN}>ifsg/h5/jws_thanks/img/share.png',
                link: window.location.href,
            }
            wx.onMenuShareTimeline({
                title: share.title,
                desc: share.desc,
                link: share.link,
                imgUrl: share.imgurl,
                success: function() {
                    $.get('h5/jws/thank-ajax-share.html', {}, function() {

                    });
                },
            });
            //分享给好友
            wx.onMenuShareAppMessage({
                title: share.title,
                desc: share.desc,
                link: share.link,
                imgUrl: share.imgurl,
                success: function() {
                    $.get('h5/jws/thank-ajax-share.html', {}, function() {

                    });
                },
            });
            //分享给QQ好友
            wx.onMenuShareQQ({
                title: share.title,
                desc: share.desc,
                link: share.link,
                imgUrl: share.imgurl,
                success: function() {
                    $.get('h5/jws/thank-ajax-share.html', {}, function() {

                    });
                },
            });
            //分享给QQ空间
            wx.onMenuShareQZone({
                title: share.title,
                desc: share.desc,
                link: share.link,
                imgUrl: share.imgurl,
                success: function() {
                    $.get('h5/jws/thank-ajax-share.html', {}, function() {

                    });
                }
            });
        });
    })
</script>
</html>