!function(){function e(e,n,t){0==t?J[e].succ.call(this,n):J[e].fail.call(this,n),delete J[e]}function n(e){e[q]==L?"function"==typeof M[e[G]]&&M[e[G]](JSON.parse(e[_EVENT_ARGS])):e[q]==H&&"function"==typeof V[e[G]]&&V[e[G]](JSON.parse(e[_EVENT_ARGS]))}function t(){return"cb_"+j++ +"_"+(new Date).getTime()}function i(e,n,i,o){var r=t(),a=D.appId,u={_args:n,_method:e,_index:r,_appId:a};J[r]={succ:i,fail:o},hbssdk.invoke(JSON.stringify(u))}function o(e){D=e,Array.prototype.contains=function(e){for(var n=this.length;n--;)if(this[n]===e)return!0;return!1};var n=[],t=e.jsApiList;t&&t instanceof Array&&(t.contains("signIn")||t.contains("pay"))&&n.push("hms"),e.needConfig=n,hbssdk.config(JSON.stringify(e))}function r(e){"function"==typeof e&&(V.event_inner_error=e)}function a(e){"function"==typeof e&&(V.event_inner_ready=e)}function u(e,n){if(e&&"string"==typeof e&&"function"==typeof n){M[e]=n;var t={eventName:e};i("listenEvent",t,function(){},function(){})}}function c(e,n,t){if(!e||!e.apiList){var o={};return o.code=9999,o.message="param is null",void t(o)}Array.prototype.indexOf=function(e){for(var n=0;n<this.length;n++)if(this[n]==e)return n;return-1},i("checkAvailability",e,function(t){var i=e.apiList.indexOf("pay");i>-1?g("com.huawei.hwid",function(e){var i=e.versionCode;t.pay=i>="20501300"?!0:!1,n(t)},function(){t.pay=!1,n(t)}):n(t)},t)}function s(e,n,t,o){var r={intent:e,type:n};i("startResolutionForResult",r,t,o)}function f(e,n,t){i("hmsInvoke",e,n,t)}function d(e,n,t){i("signIn",e,n,t)}function l(e,n,t){p(e);var i={jsonReq:JSON.stringify(e),URI:"pay.pay"};f(i,function(e){if(e.statusCode<=0){var i=e.result.retCode;if(0===i)s(e.result.pendingIntent,1003,function(e){var i=e.result;if(i||"undefined"!=typeof i){var o=i.returnCode;if(0===o)n(i);else{var r={};r.code=o,t(r)}}else{var r={};r.code=9999,r.message="result is null",t(r)}},t);else{var o={};o.code=i,t(o)}}else{var o={};o.code=9999,o.message=e.statusCode,t(o)}},function(e){t(e)})}function p(e){e.merchantId={value:e.merchantId,type:"String"},e.merchantName={value:e.merchantName,type:"String"},e.applicationID={value:e.applicationID,type:"String"},e.productName={value:e.productName,type:"String"},e.productDesc={value:e.productDesc,type:"String"},e.requestId={value:e.requestId,type:"String"},e.amount={value:e.amount,type:"String"},(e.currency||"undefined"!=typeof e.currency)&&(e.currency={value:e.currency,type:"String"}),(e.country||"undefined"!=typeof e.country)&&(e.country={value:e.country,type:"String"}),(e.url||"undefined"!=typeof e.url)&&(e.url={value:e.url,type:"String"}),e.urlVer={value:e.urlVer,type:"String"},(e.sdkChannel||"undefined"!=typeof e.sdkChannel)&&(e.sdkChannel={value:e.sdkChannel,type:"Integer"}),(e.extReserved||"undefined"!=typeof e.extReserved)&&(e.extReserved={value:e.extReserved,type:"String"}),e.serviceCatalog={value:e.serviceCatalog,type:"String"},(e.validTime||"undefined"!=typeof e.validTime)&&(e.validTime={value:e.validTime,type:"Integer"}),e.sign={value:e.sign,type:"String"}}function y(e,n,t){""==e&&(e={enableHighAccuracy:!1,timeout:0,coordsType:"gcj02",geocode:!0}),i("getCurrentPosition",e,n,t)}function v(e,n,t){i("getBrowserInfo",e,n,t)}function g(e,n,t){i("getAppInfo",e,n,t)}function h(e,n,t){if(!e||"undefined"==typeof e.title){var o={};return o.code=13,o.message="param error",void t(o)}i("share",e,n,t)}function m(e,n){i("getNetworkType","",e,n)}function S(){return"undefined"==typeof hbssdk?!1:!0}function _(e,n,t){i("navigateTo",e,n,t)}function I(e,n,t){i("redirectTo",e,n,t)}function C(e,n,t){i("preload",e,n,t)}function w(e,n,t){i("close",e,n,t)}function k(e){u("onNetworkStatusChange",e)}function N(e,n,t){i("showToast",e,n,t)}function T(e,n,t){i("showDialog",e,n,t)}function A(e,n){i("getSystemInfo","",e,n)}function b(e){u("onShow",e)}function R(e){u("onHide",e)}function x(e){u("onUnload",e)}function E(e,n,t){i("postChannelMessage",e,n,t)}function O(e,n){var t="ChannelMessageEvent_"+e;u(t,n)}var D={},J={},M={},V={},j=1,q="_event_type",G="_event_index",H="_event_type_inner",L="_event_type_3rd";_EVENT_ARGS="_event_args";var P={invoke:i,isSupport:S,on:u,ready:a,error:r,config:o,handleMessage:n,callback:e,checkAvailability:c,signIn:d,pay:l,getCurrentPosition:y,getAppInfo:g,getBrowserInfo:v,share:h,getNetworkType:m,navigateTo:_,redirectTo:I,preload:C,onNetworkStatusChange:k,showToast:N,showDialog:T,onShow:b,onHide:R,onUnload:x,close:w,postChannelMessage:E,onChannelMessage:O,getSystemInfo:A};try{Object.defineProperty(window,"hbs",{value:P,writeable:!1})}catch(U){return}}();